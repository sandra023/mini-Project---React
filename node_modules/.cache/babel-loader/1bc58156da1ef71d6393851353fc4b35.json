{"ast":null,"code":"var _jsxFileName = \"/Users/sandraabernathy/.Trash/miniProject/weekend-employee-react/src/EmployeeContainer/index.js\";\nimport React, { Component } from 'react';\nimport CreateEmpolyee from '../CreateEmployee';\nimport EmployeeList from '../EmployeeList';\nimport EditEmployee from '../EditEmployee';\n\nclass EmployeeContainer extends Component {\n  constructor() {\n    super();\n\n    this.addEmployee = async (employee, e) => {\n      e.preventDefault();\n      console.log(employee, e, 'inside of addEmployee');\n\n      try {\n        const createEmployee = await fetch('http://localhost:9000/api/v1/employee', {\n          method: 'POST',\n          // credentials: 'include'\n          body: JSON.stringify(employee),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        console.log(createEmployee, '<createEmployee fetch');\n\n        if (createEmployee.status !== 200) {\n          throw Error('Resource Not Found');\n        }\n      } catch (err) {\n        console.log('addEmployee err:', err);\n        return err;\n      }\n    };\n\n    this.getEmployees = async () => {\n      try {\n        const responseGetEmployees = await fetch('http://localhost:9000/api/v1/employee', {\n          method: 'GET' // credentials: 'include'\n\n        });\n        console.log('responseGetEmployees -> ', responseGetEmployees);\n\n        if (responseGetEmployees.status !== 200) {\n          throw Error('404 from server');\n        }\n\n        const employeeResponse = await responseGetEmployees.json();\n        console.log('employeeResponse -> ', employeeResponse);\n        this.setState({\n          employees: [...employeeResponse.data]\n        });\n      } catch (err) {\n        console.log('getEmployee err -> ', err);\n        return err;\n      }\n    };\n\n    this.state = {\n      employees: [],\n      employeeToEdit: {\n        _id: null,\n        name: '',\n        position: '',\n        birthDate: '',\n        //needs to be a date??\n        department: '',\n        annualSalary: ''\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getEmployees();\n  }\n\n  render() {\n    console.log(this.state, 'state in render');\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(CreateEmpolyee, {\n      addEmployee: this.addEmployee,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(EmployeeList, {\n      employees: this.state.employees,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default EmployeeContainer;","map":{"version":3,"sources":["/Users/sandraabernathy/.Trash/miniProject/weekend-employee-react/src/EmployeeContainer/index.js"],"names":["React","Component","CreateEmpolyee","EmployeeList","EditEmployee","EmployeeContainer","constructor","addEmployee","employee","e","preventDefault","console","log","createEmployee","fetch","method","body","JSON","stringify","headers","status","Error","err","getEmployees","responseGetEmployees","employeeResponse","json","setState","employees","data","state","employeeToEdit","_id","name","position","birthDate","department","annualSalary","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport CreateEmpolyee from '../CreateEmployee'\nimport EmployeeList from '../EmployeeList'\nimport EditEmployee from '../EditEmployee'\n\nclass EmployeeContainer extends Component {\n    constructor(){\n        super()\n\n        this.state = {\n            employees: [],\n            employeeToEdit: {\n                _id: null,\n                name: '',\n                position: '',\n                birthDate: '', //needs to be a date??\n                department: '',\n                annualSalary: ''\n            } \n        }\n    }\n\n    componentDidMount(){\n        this.getEmployees();\n    }\n\n    addEmployee = async (employee, e) => {\n        e.preventDefault();\n        console.log(employee, e, 'inside of addEmployee')\n\n        try{\n            const createEmployee = await fetch('http://localhost:9000/api/v1/employee',{\n                method: 'POST',\n                // credentials: 'include'\n                body: JSON.stringify(employee),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })  \n            console.log(createEmployee,'<createEmployee fetch')\n            if(createEmployee.status !== 200){\n                throw Error('Resource Not Found')\n            }\n        }catch(err){\n            console.log('addEmployee err:', err)\n            return err\n        }\n    }\n\n    getEmployees = async () => {\n        try{\n            const responseGetEmployees = await fetch('http://localhost:9000/api/v1/employee',{\n                method: 'GET',\n                // credentials: 'include'\n            })\n            console.log('responseGetEmployees -> ',responseGetEmployees)\n            \n            if(responseGetEmployees.status !== 200){\n                throw Error('404 from server')\n            }\n            const employeeResponse = await responseGetEmployees.json();\n            console.log('employeeResponse -> ',employeeResponse)\n\n            this.setState({\n                employees: [...employeeResponse.data]\n            });\n        }catch (err){\n            console.log('getEmployee err -> ', err)\n            return err\n        }\n    }\n\n    render(){\n        console.log(this.state, 'state in render')\n        return(\n            <div>\n                <CreateEmpolyee addEmployee={this.addEmployee}/>\n                <EmployeeList employees={this.state.employees}/>\n            </div>\n        )\n    }\n    \n}\n\nexport default EmployeeContainer"]},"metadata":{},"sourceType":"module"}